(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{68098:function(e,t,s){"use strict";s.r(t);var a=s(50029),n=s(65988),r=s.n(n),i=s(87794),o=s.n(i),c=s(67294),l=s(25617),b=s(68527),m=s(76988),x=s(82531),f=s(58006),u=s(453),k=s(53238),p=s(20076),d=s(85893),w=function(){var e=(0,l.v9)((function(e){return e.blockchain})),t=e.account,s=e.auth,n=m.Z.gameList[0].gameTitle,i=(0,c.useState)(0),p=i[0],w=i[1],y=(0,c.useState)(0),j=y[0],h=y[1],g=(0,c.useState)(""),v=g[0],C=g[1],G=(0,c.useState)(!0),N=G[0],Z=G[1],S=(0,c.useState)(""),_=S[0],E=S[1],M=(0,c.useState)(""),B=M[0],T=M[1],z=(0,c.useState)(!1),q=z[0],P=z[1],I=(0,c.useState)(""),L=I[0],Y=I[1],F=(0,c.useState)(""),O=F[0],V=F[1];(0,c.useEffect)((0,a.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&s){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.Z.getMyNFT(t);case 4:a=e.sent,V(a);case 6:case"end":return e.stop()}}),e)}))),[t,s]),(0,c.useEffect)((0,a.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&s&&n&&O){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.Z.setParticipant(t,n);case 4:return e.next=6,m.Z.initChance(t,n,O);case 6:return e.t0=C,e.next=9,m.Z.getMyChance(t,n);case 9:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=E,e.next=14,m.Z.getGameItems();case 14:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=h,e.next=19,m.Z.getMyBestScore(t,n);case 19:return e.t5=e.sent,(0,e.t4)(e.t5),e.next=23,m.Z.getMission(t,n);case 23:(a=e.sent)&&Y(a);case 25:case"end":return e.stop()}}),e)}))),[O]);var X=function(e){C(e)};(0,c.useEffect)((0,a.Z)(o().mark((function e(){var s,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.querySelector("#blockGameContainer.ended")){e.next=18;break}return e.next=3,m.Z.sendScore(t,n,p,B);case 3:return e.next=5,m.Z.getMyBestScore(t,n);case 5:if(s=e.sent,h(s),!L){e.next=18;break}if(console.log("\ubbf8\uc158\uc788\uc74c"),!L.attainment){e.next=11;break}return e.abrupt("return");case 11:if(!(p>=L.DailyMission.targetValue)){e.next=18;break}return e.next=14,m.Z.updateMission(t,L.mission_id);case 14:return e.next=16,m.Z.getMission(t,n);case 16:a=e.sent,Y(a);case 18:case"end":return e.stop()}}),e)}))),[N]);var D=function(){var e=(0,a.Z)(o().mark((function e(){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelector("#blockGameContainer.playing")||document.querySelector("#blockGameContainer.resetting")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.Z.minusGameCount(t,n);case 4:if(e.sent.data){e.next=8;break}return alert("\uac8c\uc784 \ud69f\uc218\uc5d0 \ubb38\uc81c \uc788\uc74c"),e.abrupt("return");case 8:return P(!0),Z(!1),e.next=12,m.Z.getMyChance(t,n);case 12:s=e.sent,C(s),T("");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.resultBonus&&T(t.resultBonus);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){if(t&&s&&O){var e=document.createElement("script");return e.src="../blockGameScript.js",document.body.appendChild(e),function(){document.body.removeChild(e)}}}),[O]),(0,d.jsxs)(b.kC,{mt:"120px",children:[(0,d.jsx)(k.Z,{filledValue:p,hasMission:L}),t&&s&&O?(0,d.jsxs)(b.xu,{w:"100%",children:[(0,d.jsx)(f.Z,{}),(0,d.jsxs)("div",{id:"blockGameContainer",className:"jsx-2192156229",children:[(0,d.jsx)("div",{id:"game",className:"jsx-2192156229"}),(0,d.jsx)("div",{id:"score",className:"jsx-2192156229",children:"0"}),(0,d.jsx)("div",{id:"instructions",className:"jsx-2192156229",children:"\ube14\ub85d\uc744 \ub192\uc774 \uc313\uc73c\uc138\uc694"}),(0,d.jsxs)("div",{className:"jsx-2192156229 game-over",children:[(0,d.jsx)("button",{id:"restart-button",onClick:D,className:"jsx-2192156229",children:"\ub2e4\uc2dc\uc2dc\uc791"}),(0,d.jsx)("h2",{className:"jsx-2192156229",children:"\uac8c\uc784 \uc885\ub8cc"}),(0,d.jsx)("p",{className:"jsx-2192156229",children:"\ub300~\ub2e8\ud569\ub2c8\ub2e4"})]}),(0,d.jsxs)("div",{className:"jsx-2192156229 game-ready",children:[(0,d.jsx)("button",{id:"start-button",onClick:D,disabled:!N,className:"jsx-2192156229",children:"\uc2dc\uc791"}),(0,d.jsx)("div",{className:"jsx-2192156229"})]}),(0,d.jsxs)("div",{className:"jsx-2192156229 my-score-box",children:["\ucd5c\uace0\uc810\uc218",(0,d.jsx)("p",{className:"jsx-2192156229",children:j})]}),(0,d.jsxs)("div",{className:"jsx-2192156229 chance-box",children:["\ub0a8\uc740\uae30\ud68c",(0,d.jsx)("p",{className:"jsx-2192156229",children:v})]}),B?(0,d.jsxs)("div",{className:"jsx-2192156229 item-effect-box",children:["x ",B,"!"]}):null,(0,d.jsx)("button",{onClick:function(){w(document.querySelector("#score").innerHTML),document.querySelector("#blockGameContainer.ended")&&Z(!0)},disabled:N,className:"jsx-2192156229 placeBlock-button",children:"\uba48\ucdb0 !"})]}),(0,d.jsx)(b.kC,{justifyContent:"center",children:_&&_.map((function(e){return(0,d.jsx)(x.Z,{item:e,gameTitle:n,getItemEffect:H,resultBonus:B,isPlaying:q,updateChance:X},e.itemId)}))})]}):(0,d.jsx)(u.Z,{receivedText:"\ub85c\uadf8\uc778 \ubc0f \ub300\ud45c NFT\ub97c \uc124\uc815\ud558\uc154\uc57c \uac8c\uc784\uc5d0 \ucc38\uc5ec\ud558\uc2e4 \uc218 \uc788\uc74d\ub2c8\ub2e4"}),(0,d.jsx)(r(),{id:"2192156229",children:["#game.jsx-2192156229 canvas.jsx-2192156229{max-width:100% !important;max-height:100% !important;}",".placeBlock-button.jsx-2192156229{width:100px;height:40px;border-radius:10px;background-color:#7d0000;color:#ebebeb;position:absolute;left:80%;top:65%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition-duration:0.3s;transition-duration:0.3s;}",".placeBlock-button.jsx-2192156229:hover{background-color:#7d0000;opacity:0.4;}",".placeBlock-button.jsx-2192156229:disabled{opacity:0;cursor:default;}",".chance-box.jsx-2192156229{position:absolute;right:45px;top:30px;}",".my-score-box.jsx-2192156229{position:absolute;left:45px;top:30px;}",".item-effect-box.jsx-2192156229{position:absolute;left:60%;top:9%;font-size:5vh;}",".mission-box.jsx-2192156229{color:#333344;position:absolute;left:30px;top:65%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-radius:10px;background-color:#ffa5008c;padding:5px;}","#blockGameContainer.jsx-2192156229{overflow:hidden;position:relative;height:70vh;margin:0 auto;text-align:center;color:#333344;font-weight:bold;}","#blockGameContainer.jsx-2192156229 #score.jsx-2192156229{position:absolute;top:20px;width:100%;font-size:10vh;-webkit-transition:-webkit-transform 0.5s ease;-webkit-transition:-webkit-transform 0.5s ease;-webkit-transition:-webkit-transform 0.5s ease;transition:-webkit-transform 0.5s ease;-webkit-transition:-webkit-transform 0.5s ease;-webkit-transition:transform 0.5s ease;transition:transform 0.5s ease;-webkit-transition:-webkit-transform 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:transform 0.5s ease,-webkit-transform 0.5s ease;transition:transform 0.5s ease,-webkit-transform 0.5s ease;color:#333344;-webkit-transform:translatey(-200px) scale(1);-webkit-transform:translatey(-200px) scale(1);-ms-transform:translatey(-200px) scale(1);transform:translatey(-200px) scale(1);}","#blockGameContainer.jsx-2192156229 #game.jsx-2192156229{position:absolute;top:0;right:0;bottom:0;left:0;}","#blockGameContainer.jsx-2192156229 .game-over.jsx-2192156229{position:absolute;top:0;left:0;width:100%;height:85%;display:-webkit-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","#blockGameContainer.jsx-2192156229 .game-over.jsx-2192156229 *.jsx-2192156229{-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,transform 0.5s ease;transition:opacity 0.5s ease,transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,transform 0.5s ease,-webkit-transform 0.5s ease;transition:opacity 0.5s ease,transform 0.5s ease,-webkit-transform 0.5s ease;opacity:0;-webkit-transform:translatey(-50px);-webkit-transform:translatey(-50px);-ms-transform:translatey(-50px);transform:translatey(-50px);color:#333344;}","#blockGameContainer.jsx-2192156229 .game-over.jsx-2192156229 h2.jsx-2192156229{margin:0;padding:0;font-size:40px;}","#blockGameContainer.jsx-2192156229 .game-ready.jsx-2192156229{position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}","#blockGameContainer.jsx-2192156229 .game-ready.jsx-2192156229 #start-button.jsx-2192156229,#blockGameContainer.jsx-2192156229 .game-over.jsx-2192156229 #restart-button.jsx-2192156229{cursor:default;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,transform 0.5s ease;transition:opacity 0.5s ease,transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,transform 0.5s ease,-webkit-transform 0.5s ease;transition:opacity 0.5s ease,transform 0.5s ease,-webkit-transform 0.5s ease;opacity:0;-webkit-transform:translatey(-50px);-webkit-transform:translatey(-50px);-ms-transform:translatey(-50px);transform:translatey(-50px);border:3px solid #333344;padding:10px 20px;background-color:transparent;color:#333344;font-size:30px;z-index:0;}","#blockGameContainer.jsx-2192156229 .game-ready.jsx-2192156229 #start-button.jsx-2192156229:hover,#blockGameContainer.jsx-2192156229 .game-over.jsx-2192156229 #restart-button.jsx-2192156229:hover{background-color:rgba(69,69,90,0.5);-webkit-transition:0.3s ease;transition:0.3s ease;}","#blockGameContainer.jsx-2192156229 #instructions.jsx-2192156229{position:absolute;width:100%;top:16vh;left:0;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,transform 0.5s ease;transition:opacity 0.5s ease,transform 0.5s ease;-webkit-transition:opacity 0.5s ease,-webkit-transform 0.5s ease,-webkit-transform 0.5s ease;-webkit-transition:opacity 0.5s ease,transform 0.5s ease,-webkit-transform 0.5s ease;transition:opacity 0.5s ease,transform 0.5s ease,-webkit-transform 0.5s ease;opacity:0;}","#blockGameContainer.jsx-2192156229 #instructions.hide.jsx-2192156229{opacity:0 !important;}","#blockGameContainer.playing.jsx-2192156229 #score.jsx-2192156229,#blockGameContainer.resetting.jsx-2192156229 #score.jsx-2192156229{-webkit-transform:translatey(0px) scale(1);-webkit-transform:translatey(0px) scale(1);-ms-transform:translatey(0px) scale(1);transform:translatey(0px) scale(1);}","#blockGameContainer.playing.jsx-2192156229 #instructions.jsx-2192156229{opacity:1;}","#blockGameContainer.ready.jsx-2192156229 .game-ready.jsx-2192156229 #start-button.jsx-2192156229,#blockGameContainer.ended.jsx-2192156229 .game-over.jsx-2192156229 #restart-button.jsx-2192156229{cursor:pointer;opacity:1;-webkit-transform:translatey(0);-webkit-transform:translatey(0);-ms-transform:translatey(0);transform:translatey(0);z-index:1;}","#blockGameContainer.ended.jsx-2192156229 #score.jsx-2192156229{-webkit-transform:translatey(6vh) scale(1.5);-webkit-transform:translatey(6vh) scale(1.5);-ms-transform:translatey(6vh) scale(1.5);transform:translatey(6vh) scale(1.5);}","#blockGameContainer.ended.jsx-2192156229 .game-over.jsx-2192156229 *.jsx-2192156229{opacity:1;-webkit-transform:translatey(0);-webkit-transform:translatey(0);-ms-transform:translatey(0);transform:translatey(0);}","#blockGameContainer.ended.jsx-2192156229 .game-over.jsx-2192156229 p.jsx-2192156229{-webkit-transition-delay:0.3s;-webkit-transition-delay:0.3s;transition-delay:0.3s;}"]})]})};t.default=w,w.getLayout=function(e){return(0,d.jsx)(p.Z,{children:e})}},38477:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/stacking-blocks",function(){return s(68098)}])}},function(e){e.O(0,[482,714,354,173,874,597,988,379,698,774,888,179],(function(){return t=38477,e(e.s=t);var t}));var t=e.O();_N_E=t}]);