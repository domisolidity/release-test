(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{3660:function(e,n,r){"use strict";r.r(n);var t=r(50029),s=r(65988),c=r.n(s),i=r(87794),a=r.n(i),o=r(67294),l=r(9669),h=r.n(l),d=r(41664),u=r(68527),x=r(34651),f=r(26723),p=r(79042),j=r(68133),g=r(25617),m=r(85893);n.default=function(){var e=(0,g.v9)((function(e){return e.blockchain})),n=e.account,r=e.gameTokenContract,s=e.claim20_Contract,i=(0,o.useState)(),l=i[0],v=i[1],b=(0,o.useState)(),k=b[0],w=b[1],T=(0,o.useState)(!1),C=T[0],S=T[1],_=(0,o.useState)(!1),y=_[0],z=_[1],N=(0,o.useState)(!1),A=N[0],E=N[1],Z=(0,o.useState)(0),R=Z[0],X=Z[1],O=(0,o.useState)([]),B=O[0],I=O[1],J=(0,o.useState)(!1),M=J[0],P=J[1],D=B.every(Boolean),G=B.some(Boolean)&&!D,L=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().get("/api/games/mission-achiever").then(function(){var e=(0,t.Z)(a().mark((function e(n){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(n.data),r=[],t=0;t<n.data.length;t++)r.push(Object.values(n.data[t]));console.log(r),v(r),S(!0);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch(console.error());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,t.Z)(a().mark((function e(){var n,r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=B.length){e.next=3;break}return alert("\uc544\ubb34\uac83\ub3c4 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \ud074\ub808\uc784 \ud5c8\uc6a9\ud560 \uacc4\uc815\uc744 \uccb4\ud06c\ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 3:for(n=[],console.log(B),console.log(l),r=0,t=0;t<B.length;t++)1==B[t]&&(n.push(l[t]),r+=l[t][1]);console.log(n),console.log(typeof r),X(r),w(n),S(!1),z(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"0xbe005997cc214577c575cab11d0430777145a7dd"==n){e.next=4;break}return alert("\uad00\ub9ac\uc790 \uad8c\ud55c\uc774 \uc5c6\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."),e.abrupt("return");case 4:return console.log(s._address),P(!0),e.next=8,r.methods.transfer(s._address,R).send({from:n}).then((function(e){console.log(e),alert("\ub2e4\uc74c\uc740 \ubbf8\uc158 \ubcf4\uc0c1\uc790\ubcc4 \uc778\ucd9c \ud5c8\uc6a9\ub7c9 \uc9c0\uc815\uc5d0 \ub300\ud55c \uc11c\uba85\uc785\ub2c8\ub2e4.")}));case 8:return e.next=10,s.methods.approveClaim_mission(k).send({from:n}).then(function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),!n.status){e.next=4;break}return e.next=4,h().post("/api/games/mission/approved",{mission:k}).then((function(){P(!1),alert("\uc2b9\uc778 \uc791\uc5c5 \uc644\ub8cc"),z(!1),E(!0)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),P(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(){C?S(!1):(z(!1),S(!0))};return(0,o.useEffect)((function(){}),[n]),(0,m.jsxs)(u.xu,{w:"70vw",bg:"blackAlpha.400",margin:"0 auto",padding:"10",border:"2px solid gray",borderRadius:"10",children:[(0,m.jsxs)(u.kC,{justify:"space-between",children:[(0,m.jsxs)(u.xu,{children:[(0,m.jsxs)(u.X6,{display:"inline",children:[(0,m.jsx)(x.Ee,{src:"/images/icons/noteIcon.png",display:"inline",boxSize:"35",mr:"4"}),(0,m.jsx)("span",{className:"jsx-95679174",children:"Managing Mission Reward"})]}),(0,m.jsxs)(u.xv,{ml:"20",mt:"5",children:[" ","\uc8fc\uac04 \ub7ad\ud0b9 \uc815\ubcf4\ub97c \ud655\uc778\ud558\uace0 \ub7ad\ud0b9 \uc815\ubcf4\uc5d0 \ub530\ub77c \ud074\ub808\uc784 \ud5c8\uc6a9\uc5ec\ubd80\ub97c \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})]}),(0,m.jsx)(d.default,{href:"/admin",children:(0,m.jsx)("a",{className:"jsx-95679174",children:(0,m.jsx)(f.zx,{bg:"whiteAlpha.300",children:" \uad00\ub9ac\uc790 \ud648\uc73c\ub85c"})})})]}),C?(0,m.jsxs)(p.xJ,{align:"center",mt:"10",children:[(0,m.jsx)(u.xv,{fontSize:"30",children:" step 2 "})," \uacc4\uc815 \uc120\ud0dd",(0,m.jsxs)(p.iA,{border:"1px solid gray",mt:"5",w:"80%",children:[(0,m.jsxs)(p.Rn,{children:[(0,m.jsx)(f.zx,{bg:"#414fa28f",onClick:H,mr:"2",children:"\ub4a4\ub85c \uac00\uae30"}),(0,m.jsx)(f.zx,{bg:"#414fa28f",onClick:q,children:"\uc120\ud0dd \uc644\ub8cc"})]}),(0,m.jsx)(p.hr,{bg:"whiteAlpha.200",children:(0,m.jsxs)(p.Tr,{children:[(0,m.jsx)(p.Th,{children:(0,m.jsx)(j.XZ,{colorScheme:"green",isChecked:D,isIndeterminate:G,onChange:function(e){for(var n=[],r=0;r<l.length;r++)n.push(e.target.checked);I(n)}})}),(0,m.jsx)(p.Th,{children:"\uacc4\uc815 \uc8fc\uc18c"}),(0,m.jsx)(p.Th,{children:"\ubbf8\uc158 \ub2ec\uc131 \ud69f\uc218"})]})}),(0,m.jsx)(p.p3,{children:l&&l.map((function(e,n){return(0,m.jsxs)(p.Tr,{children:[(0,m.jsx)(p.Td,{children:(0,m.jsx)(j.XZ,{colorScheme:"green",isChecked:B[n],onChange:function(e){var r=[];console.log(e.target.checked,"<<<");for(var t=0;t<l.length;t++)t!=n?r.push(B[t]):r.push(e.target.checked);I(r)}})}),(0,m.jsx)(p.Td,{children:e[0]}),(0,m.jsx)(p.Td,{children:e[1]})]},n)}))})]})]}):y?(0,m.jsxs)(p.xJ,{align:"center",mt:"10",children:[(0,m.jsx)(u.xv,{fontSize:"30",children:"step 3"})," \ud074\ub808\uc784 \ud5c8\uc6a9",(0,m.jsxs)(p.iA,{border:"1px solid gray",mt:"5",w:"80%",variant:"striped",colorScheme:"#2C264C",children:[(0,m.jsxs)(p.Rn,{children:[(0,m.jsx)(u.xu,{mt:"50",mb:"5",fontSize:"20",children:(0,m.jsxs)("span",{className:"jsx-95679174",children:[" Total Allowance : ",R," DGT "]})}),(0,m.jsx)(f.zx,{bg:"#414fa28f",onClick:H,mr:"2",children:"\ub4a4\ub85c \uac00\uae30"}),(0,m.jsx)(f.zx,{isLoading:M?1:null,loadingText:"approving...",bg:"#414fa28f",onClick:F,children:"\ud074\ub808\uc784 \ud5c8\uc6a9"})]}),(0,m.jsx)(p.hr,{bg:"whiteAlpha.200",children:(0,m.jsxs)(p.Tr,{children:[(0,m.jsx)(p.Th,{children:"\uacc4\uc815 \uc8fc\uc18c"}),(0,m.jsx)(p.Th,{children:"\ubbf8\uc158 \ub2ec\uc131 \ud69f\uc218"}),(0,m.jsx)(p.Th,{children:"\ud5c8\uc6a9\ub7c9"})]})}),(0,m.jsx)(p.p3,{children:k&&k.map((function(e,n){return(0,m.jsxs)(p.Tr,{children:[(0,m.jsx)(p.Td,{children:e[0]}),(0,m.jsx)(p.Td,{children:e[1]}),(0,m.jsx)(p.Td,{children:e[1]})]},n)}))})]})]}):A?(0,m.jsxs)(u.xu,{align:"center",mt:"10",children:[(0,m.jsx)(u.xv,{fontSize:"30",children:"step 4"})," \uc644\ub8cc",(0,m.jsxs)(u.xu,{mt:"5",children:[(0,m.jsx)(u.xv,{mt:"5",children:"\uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,m.jsx)(f.zx,{onClick:function(){z(!1),S(!1),E(!1)},children:"\ucd94\uac00 \uc124\uc815\ud558\uae30"})]})]}):(0,m.jsxs)(u.xu,{align:"center",mt:"10",children:[(0,m.jsx)(u.xv,{fontSize:"30",children:"step 1"})," \ubbf8\uc158 \ubcf4\uc0c1\uc790 \ubaa9\ub85d",(0,m.jsx)(u.xu,{mt:"5",children:(0,m.jsx)(f.zx,{bg:"#414fa28f",onClick:L,mr:"2",children:"\ubcf4\uc0c1\uc790 \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30"})})]}),(0,m.jsx)(c(),{id:"95679174",children:["span.jsx-95679174{background:linear-gradient(#f1f1f1 23%,#818181 100%);background-clip:text;-webkit-background-clip:text;color:transparent;font-weight:900;}"]})]})}},12989:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/missionReword",function(){return r(3660)}])}},function(e){e.O(0,[354,173,988,774,888,179],(function(){return n=12989,e(e.s=n);var n}));var n=e.O();_N_E=n}]);